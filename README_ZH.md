# AI小说家 - 智能内容生成系统

## 项目简介

AI小说家是一个基于大语言模型的智能内容生成系统，能够根据用户提供的主题自动生成小说或课程内容。该系统具有完整的Web界面，支持任务队列管理、断点续传、内容预览等功能。

## 核心功能

### 1. 双模式内容生成
- **小说模式**：基于世界观设定和章节大纲，运用丰富的文学技巧生成小说内容
- **课程模式**：根据课程大纲生成结构化的教学内容

### 2. 智能世界观系统
- 自动生成详细的世界观设定（人物、地点、规则等）
- 动态更新世界观，随着故事进展添加新信息
- 为每个章节提供上下文参考，确保故事连贯性

### 3. 章节规划系统（思维库）
- 为每个章节生成详细的执行剧本
- 包含关键事件、出场人物等要素
- 跟踪章节生成状态

### 4. 任务管理系统
- 基于队列的任务处理机制
- 支持任务取消和断点续传
- 实时任务状态监控

### 5. 现代化Web界面
- 响应式设计，支持中英文切换
- 实时日志显示
- 项目库管理和内容预览
- Token使用统计和图表展示
- AI写作秀场模式（动态文字展示）

## 技术架构

### 后端技术栈
- Python 3.x
- Flask Web框架
- Requests库（与LLM API通信）
- python-docx（文档处理）
- BeautifulSoup（内容解析）

### 前端技术栈
- HTML5 + CSS3
- TailwindCSS（样式框架）
- Chart.js（数据可视化）
- Marked.js（Markdown解析）

### AI集成
- 兼容vLLM API接口
- 支持自定义模型端点
- Token统计和用量跟踪

## 项目结构

```
.
├── main.py                 # 主应用文件（包含所有功能）
├── works_library/          # 生成内容存储目录
│   ├── course/             # 课程内容目录
│   └── novel/              # 小说内容目录
│       └── 《作品名称》/     # 具体作品目录
│           ├── _worldview/ # 世界观设定
│           ├── _mind_library/ # 章节规划（思维库）
│           └── 各章节文件.md
├── token_stats.json        # Token使用统计
├── README.md              # 英文说明文档
└── README_ZH.md           # 本中文说明文档
```

## 安装部署

### 环境要求
- Python 3.7+
- pip包管理器
- 可访问的LLM API服务（如vLLM部署的模型）

### 安装步骤

1. 克隆或下载项目代码
2. 安装依赖包：
   ```bash
   pip install python-docx beautifulsoup4 flask requests
   ```

3. 配置LLM API连接参数（在[main.py](file:///d:/GUOSHIYIN/models/ai%E5%B0%8F%E8%AF%B4%E5%AE%B6/main.py)文件中）：
   ```python
   VLLM_SERVER_HOST = "your_server_ip"     # 修改为你的服务器IP
   VLLM_SERVER_PORT = "your_server_port"   # 修改为你的服务器端口
   SERVED_MODEL_IDENTIFIER = 'your_model_path'  # 修改为你的模型路径
   ```

## 使用指南

### 启动应用
```bash
python main.py
```

启动成功后，终端会显示：
```
==================================================
AI Content Factory v7.0 (Web UI) Started!
Please open your browser to http://127.0.0.1:5000
==================================================
```

### 界面功能说明

1. **创建项目**：
   - 输入主题内容
   - 选择项目类型（小说/课程）
   - 设置结构参数（章节数、字数等）
   - 生成并确认大纲

2. **作品库**：
   - 查看已生成的项目
   - 浏览章节内容
   - 下载ZIP压缩包

3. **世界观**：
   - 查看小说的世界观设定
   - 包含人物、地点、规则等详细信息

4. **思维库**：
   - 查看各章节的详细规划
   - 跟踪生成状态

5. **任务队列**：
   - 查看当前和历史任务
   - 取消正在执行的任务

6. **AI写作秀场**：
   - 动态展示小说内容
   - 打字机效果播放

7. **Token统计**：
   - 查看API使用情况
   - 图表展示每日用量

## 已完成功能特色

1. **断点续传**：系统会自动跳过已生成的章节，支持中断后继续生成
2. **上下文连贯**：通过摘要机制确保章节间的故事连贯性
3. **动态世界观**：随着故事发展自动更新世界观设定
4. **智能规划**：为每个章节生成详细的执行剧本
5. **多语言支持**：界面支持中英文切换
6. **实时监控**：Web界面实时显示生成进度和日志

## 应用场景

- 网络小说创作辅助
- 课程内容快速生成
- 创意写作灵感激发
- 教育资源批量制作
- 个人写作助手工具

## 注意事项

1. 需要配置可用的LLM API服务
2. 生成质量取决于所使用模型的性能
3. 长时间运行建议在服务器环境中部署
4. 生成的内容仅供参考，使用时请注意版权问题

## 后续优化方向

1. 增加更多内容类型模板
2. 支持更多格式的导出（PDF、EPUB等）
3. 增强用户交互和自定义能力
4. 添加内容编辑和修改功能
5. 支持多用户和权限管理

## 💖 支持作者



如果你觉得这个项目对你有帮助，欢迎通过下方二维码赞赏支持作者的持续开发！、

![image-20250815113847479](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20250815113847479.png)

⚠️ 免责声明
本软件仅供学习和研究使用。使用者需要：

遵守相关法律法规
尊重知识产权
不得用于商业用途
对使用本软件产生的任何后果自行承担责任
⭐ 如果这个项目对你有帮助，请给个Star支持一下！ 💡 有商业化想法？欢迎交流合作，共同探索AI写作的无限可能！